CREATE TABLE Admins (
    admin_id SERIAL PRIMARY KEY,
    username VARCHAR(255) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL
);
CREATE TABLE bus (
    bus_id SERIAL PRIMARY KEY,
    brand VARCHAR(255) NOT NULL,
    model VARCHAR(255) NOT NULL,
    color VARCHAR(255) NOT NULL,
    engineType VARCHAR(20) NOT NULL,
    capacity INT NOT NULL,
    has_contactless_payment BOOLEAN NOT NULL
);

CREATE TABLE trolleybus (
    trolleybus_id SERIAL PRIMARY KEY,
    brand VARCHAR(255) NOT NULL,
    model VARCHAR(255) NOT NULL,
    color VARCHAR(255) NOT NULL,
    engineType VARCHAR(20) NOT NULL,
    capacity INT NOT NULL,
    has_sockets BOOLEAN NOT NULL
);

CREATE TABLE taxi (
    taxi_id SERIAL PRIMARY KEY,
    brand VARCHAR(255) NOT NULL,
    model VARCHAR(255) NOT NULL,
    color VARCHAR(255) NOT NULL,
    engineType VARCHAR(20) NOT NULL,
    price_per_kil DOUBLE PRECISION NOT NULL,
    has_driver BOOLEAN NOT NULL,
    has_wifi BOOLEAN NOT NULL,
    has_child_seat BOOLEAN NOT NULL,
    rent_car_type VARCHAR(20) NOT NULL
);

CREATE TABLE ticket (
    ticket_id SERIAL PRIMARY KEY,
    transport_id INT NOT NULL,
    customer_id INT NOT NULL,
    price DOUBLE PRECISION NOT NULL,
    purchase_time TIMESTAMP NOT NULL,
    transport_type VARCHAR(20) NOT NULL
);


CREATE TABLE customer (
    customer_id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    surname VARCHAR(255) NOT NULL,
    contact_information VARCHAR(255) NOT NULL,
);

CREATE TABLE orders (
    order_id SERIAL PRIMARY KEY,
    customer_id INT REFERENCES customer(customer_id),
    car_id INT NOT NULL,
    order_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE Route (
    route_id SERIAL PRIMARY KEY,
    route_name VARCHAR(255) NOT NULL,
);

CREATE TABLE Stop (
    stop_id SERIAL PRIMARY KEY,
    stop_name VARCHAR(255) NOT NULL,
    address VARCHAR(255) NOT NULL
);

CREATE TABLE RoutePrice (
    route_id INT REFERENCES Route(route_id),
    price DECIMAL(10, 2) NOT NULL
);

CREATE TABLE StopRoute (
    stoproute_id SERIAL PRIMARY KEY,
    route_id INT REFERENCES Route(route_id),
    stop_id INT REFERENCES Stop(stop_id)
);

CREATE TABLE Schedule (
    schedule_id SERIAL PRIMARY KEY,
    route_id INT REFERENCES Route(route_id),
    stop_id INT REFERENCES Stop(stop_id),
    transport_type VARCHAR(255) NOT NULL,
    transport_id INT NOT NULL,
    arrival_time TIME NOT NULL
);

CREATE TABLE TransportRoute (
    route_id INT REFERENCES Route(route_id),
    transport_type VARCHAR(255) NOT NULL,
    transport_id INT NOT NULL,
    PRIMARY KEY (route_id, transport_type)
);
